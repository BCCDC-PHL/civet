#!/usr/bin/env python

import csv
from Bio import SeqIO
import os

##### Configuration #####

if config.get("force"):
    config["force"] = "--forceall "
else:
    config["force"] = ""

if config["quiet_mode"]=="True":
    config["quiet_mode"] = "--quiet"
else:
    config["quiet_mode"] = ""

##### Target rules #####

if config["remote"] == "True":
    rule all:
        input:
            os.path.join(config["outdir"],"combined_metadata.csv"),
            os.path.join(config["outdir"],"lineage_trees","lineage_tree_summary.remote.txt"),
            os.path.join(config["outdir"], "civet_report.remote.md")
else:
    rule all:
        input:
            os.path.join(config["outdir"],"combined_metadata.csv"),
            os.path.join(config["outdir"],"lineage_trees","lineage_tree_summary.txt"),
            os.path.join(config["outdir"], "civet_report.md")


##### Modules #####
include: "assess_input_file.smk"
